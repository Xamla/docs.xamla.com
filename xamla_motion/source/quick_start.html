

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick start guide &mdash; xamla_motion 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Motion client" href="motion_client.html" />
    <link rel="prev" title="Welcome to xamla_motion’s documentation!" href="../index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> xamla_motion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick start guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-xamla-motion">What is xamla_motion?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-install">How to install?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#first-steps-with-rosvita-and-xamla-motion-by-example">First steps with ROSVITA and xamla_motion by example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-rosvita-project">Create a ROSVITA project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-to-know-xamla-motion-data-types">Getting to know xamla_motion data types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="motion_client.html">Motion client</a></li>
<li class="toctree-l1"><a class="reference internal" href="gripper_client.html">Gripper client</a></li>
<li class="toctree-l1"><a class="reference internal" href="world_view_client.html">WorldView client</a></li>
<li class="toctree-l1"><a class="reference internal" href="motion_service.html">Motion Service</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_types.html">Data types</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">xamla_motion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Quick start guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/quick_start.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start-guide">
<h1>Quick start guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-xamla-motion">
<h2>What is xamla_motion?<a class="headerlink" href="#what-is-xamla-motion" title="Permalink to this headline">¶</a></h2>
<p>xamla_motion is a python client library to interact with <a class="reference external" href="https://xamla.com/en/#about">ROSVITA</a> based on our server
implementation <a class="reference external" href="https://github.com/Xamla/xamlamoveit">xamlamoveit</a>. With help of xamla_motion it is possible to directly
plan and execute trajetories on simulated or real robots, control gripper or manipulate ROSVITA’s WorldView from python 3.5 or above.
Further more xamla_motion defines some standard data types wish are usefull in robotic applications like poses or trajectories.</p>
</div>
<div class="section" id="how-to-install">
<h2>How to install?<a class="headerlink" href="#how-to-install" title="Permalink to this headline">¶</a></h2>
<p>xamla_motion is already preinstalled in <a class="reference external" href="https://xamla.com/en/#about">ROSVITA</a>. Therefore, no additional installation is necessary.
If you want to use xamla_motion not in the ROSVITA docker image but from your own machine, please clone the
‘xamla_motion  repository &lt;<a class="reference external" href="https://github.com/Xamla/xamla_motion">https://github.com/Xamla/xamla_motion</a>&gt;’ into your local ROS catkin repository and build it. Please, make sure
that all dependencies in setup.py and package.xml are met.</p>
</div>
<div class="section" id="first-steps-with-rosvita-and-xamla-motion-by-example">
<h2>First steps with ROSVITA and xamla_motion by example<a class="headerlink" href="#first-steps-with-rosvita-and-xamla-motion-by-example" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-a-rosvita-project">
<h3>Create a ROSVITA project<a class="headerlink" href="#create-a-rosvita-project" title="Permalink to this headline">¶</a></h3>
<p>Due to the fact that xamla_motion is a client library which interacts with <a class="reference external" href="https://xamla.com/en/#about">ROSVITA</a> we first have to
do some setup work in <a class="reference external" href="https://xamla.com/en/#about">ROSVITA</a> itself, before we can explore the capabilities of xamla_motion.</p>
<p>Please first start a <a class="reference external" href="https://xamla.com/en/#about">ROSVITA</a> instance on your local machine. A ‘how to’ is available in
the <a class="reference external" href="http://docs.xamla.com/rosvita/Getting_Started.html">ROSVITA Documentation</a>.</p>
<p>After ROSVITA is started, please login and create a new project. A ‘how to’ for this steps is also available:</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.xamla.com/rosvita/Main_View.html">login</a></li>
<li><a class="reference external" href="http://docs.xamla.com/rosvita/New_Project.html">create new project</a></li>
</ul>
<p>Then add a ur5 and a WSG-25 gripper as simulated components to the configuration, compile, start ROS and switch to WorldView
(<a class="reference external" href="http://docs.xamla.com/rosvita/Getting_Started.html">how to</a>).</p>
</div>
<div class="section" id="getting-to-know-xamla-motion-data-types">
<h3>Getting to know xamla_motion data types<a class="headerlink" href="#getting-to-know-xamla-motion-data-types" title="Permalink to this headline">¶</a></h3>
<p>xamla_motion data types are following two design decisions. The first decision
is that the data types are immutable. Therefore, it is not possible to change a
value of a existing data type instance but rather it is neccessary to create
a new instance which contains the changes.</p>
<p>The second design decision is that all types heavily depend on numpy and especially
represent all tensors with help of numpy ndarrays.</p>
<p>When people start to think of how to solve a specific robotics problem many will start
to define their problem in poses the robot has to reach and do specific actions with
their tools. Therefore, one of the most important data types xamla_motion defines is
the Pose data type.</p>
<p>A pose in xamla_motion is defined as three dimensional translation vector [meter], a quaternion
which represents the orientation. For quaternion representation xamla_motion use
<a class="reference external" href="https://kieranwynn.github.io/pyquaternion/">PyQuaternion</a>. Therefore, the creation of
an instance of xamla_motions Pose data type is possible with this to parameters.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">xamla_motion.data_types</span> <span class="k">import</span> <span class="n">Pose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyquaternion</span> <span class="k">import</span> <span class="n">Quaternion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.502</span><span class="p">,</span> <span class="mf">0.258</span><span class="p">,</span> <span class="mf">0.367</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q</span> <span class="o">=</span> <span class="n">Quaternion</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="mf">0.304</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">0.527</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.687</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mf">0.396</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span> <span class="o">=</span> <span class="n">Pose</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pose</span><span class="p">)</span>
<span class="go">Pose:</span>
<span class="go">translation.x : 0.502</span>
<span class="go">translation.y : 0.258</span>
<span class="go">translation.z : 0.367</span>
<span class="go">quaternion.w : 0.304</span>
<span class="go">quaternion.x : 0.527</span>
<span class="go">quaternion.y : 0.687</span>
<span class="go">quaternion.z : 0.396</span>
<span class="go">frame_id : world</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span><span class="o">.</span><span class="n">translation</span>
<span class="go">array([ 0.502,  0.258,  0.367])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span><span class="o">.</span><span class="n">quaternion</span>
<span class="go">Quaternion(0.304, 0.527, 0.687, 0.396)</span>
</pre></div>
</div>
<p>As you can see the pose data type also has a third parameter frame id. This parameter specifics
in which coordinate system the pose is defined. The default value is world.</p>
<p>Another common representation of poses in robotics is the representation as a 4x4 matrix
in homogenous coordinates. The xamla_motion pose data type can also be created from this
representation or vise versa.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">xamla_motion.data_types</span> <span class="k">import</span> <span class="n">Pose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span> <span class="o">=</span> <span class="n">Pose</span><span class="o">.</span><span class="n">from_transformation_matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pose</span><span class="p">)</span>
<span class="go">Pose:</span>
<span class="go">translation.x : 0.0</span>
<span class="go">translation.y : 0.0</span>
<span class="go">translation.z : 0.0</span>
<span class="go">quaternion.w : 1.0</span>
<span class="go">quaternion.x : 0.0</span>
<span class="go">quaternion.y : 0.0</span>
<span class="go">quaternion.z : 0.0</span>
<span class="go">frame_id : world</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span><span class="o">.</span><span class="n">transformation_matrix</span><span class="p">()</span>
<span class="go">array([[ 1.,  0.,  0.,  0.],</span>
<span class="go">   [ 0.,  1.,  0.,  0.],</span>
<span class="go">   [ 0.,  0.,  1.,  0.],</span>
<span class="go">   [ 0.,  0.,  0.,  1.]])</span>
</pre></div>
</div>
<p>Now we have poses which are represented as xamla_motion pose data types. But why we should
represent poses with help of this data types. The answer is, because we will do less errors
with help of them. For example we can do simple transformations like translate 0.5 meter in
+x and +y direction.</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">xamla_motion.data_types</span> <span class="k">import</span> <span class="n">Pose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">translation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span> <span class="o">=</span> <span class="n">Pose</span><span class="o">.</span><span class="n">from_transformation_matrix</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pose</span><span class="p">)</span>
<span class="go">Pose:</span>
<span class="go">translation.x : 0.0</span>
<span class="go">translation.y : 0.0</span>
<span class="go">translation.z : 0.0</span>
<span class="go">quaternion.w : 1.0</span>
<span class="go">quaternion.x : 0.0</span>
<span class="go">quaternion.y : 0.0</span>
<span class="go">quaternion.z : 0.0</span>
<span class="go">frame_id : world</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pose</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">translation</span><span class="p">)</span>
<span class="go">Pose:</span>
<span class="go">translation.x : 0.5</span>
<span class="go">translation.y : 0.5</span>
<span class="go">translation.z : 0.0</span>
<span class="go">quaternion.w : 1.0</span>
<span class="go">quaternion.x : 0.0</span>
<span class="go">quaternion.y : 0.0</span>
<span class="go">quaternion.z : 0.0</span>
<span class="go">frame_id : world</span>
</pre></div>
</div>
<p>In the future more information about the main data types will be added.
But for know take a look into the other chapters to learn following:</p>
<ul class="simple">
<li>how to move a robot with help of the <a class="reference internal" href="motion_client.html"><span class="doc">motion client classes</span></a></li>
<li>how to control a gripper with help of the <a class="reference internal" href="gripper_client.html"><span class="doc">gripper client classes</span></a></li>
<li>how to interact with ROSVITA WorldView with help of the <a class="reference internal" href="world_view_client.html"><span class="doc">world view client</span></a></li>
<li>more details about the xamla_motion <a class="reference internal" href="data_types.html"><span class="doc">data types</span></a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="motion_client.html" class="btn btn-neutral float-right" title="Motion client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="Welcome to xamla_motion’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xamla.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>