

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creation of Own Robot Models &mdash; Rosvita documentation  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ROSVITA Graph Concept" href="Graph_Concept.html" />
    <link rel="prev" title="ROSVITA Code Editor" href="Code_Editor.html" /> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home">
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Main_View.html">ROSVITA Main View</a></li>
<li class="toctree-l1"><a class="reference internal" href="New_Project.html">Creating a New Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Configuration.html">Creating a Robot Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Path_Planning.html">Path Planning (“World View”)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Jogging.html">Robot Jogging</a></li>
<li class="toctree-l1"><a class="reference internal" href="File_Browser.html">ROSVITA File Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_Editor.html">ROSVITA Code Editor</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creation of Own Robot Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#relocation-of-the-tool-center-point-tcp">Relocation of the “Tool Center Point (TCP)”:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Graph_Concept.html">ROSVITA Graph Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua_Scripts.html">Using Lua Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Combination_with_External_ROS.html">Access to ROSVITA from External ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Complex_Scene.html">Building a Complex Scene</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rosvita documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Creation of Own Robot Models</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="sources/Own_Robot_Models.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creation-of-own-robot-models">
<h1>Creation of Own Robot Models<a class="headerlink" href="#creation-of-own-robot-models" title="Permalink to this headline">¶</a></h1>
<p>In the ROSVITA file browser under the path <code class="docutils literal"><span class="pre">/home/xamla/Rosvita.Control/library/robot_parts/</span></code> you will find the different robot models (for example <code class="docutils literal"><span class="pre">universal_robots/part_ur5</span></code>). These include the following files and folders:</p>
<ul class="simple">
<li>Folder “collision” (contains the .stl files for the collision model)</li>
<li>Folder “visual” (contains the .dae files for the visualization)</li>
<li>.xacro file containing the description of the robot model</li>
<li>File “part.json” containing the MoveIt! configuration of the robot model</li>
<li>Files “CMakeLists.txt” and “package.xml” for compiling in a “Catkin” workspace under ROS.</li>
</ul>
<p>To make your own robot model selectable in ROSVITA, you first have to <strong>provide all of the above listed files that belong to a ROSVITA robot configuration</strong>.
In some cases, corresponding files are already provided by the robot manufacturer (such as from <a class="reference external" href="https://github.com/ros-industrial/universal_robot/">Universal Robots at GitHub</a>). In this case, the corresponding files and folders only need to be adjusted so that they <strong>match the ROSVITA folder structure</strong>.
If you want to build a robot model completely by yourself, the following <a class="reference external" href="http://wiki.ros.org/urdf/Tutorials">URDF/Xacro-Tutorials</a>, as well as this <a class="reference external" href="http://wiki.ros.org/urdf/XML/model">explanation of the URDF</a> will help to construct your own robot model.</p>
<p><em>The “Unified Robot Description Format” (URDF) is an XML specification to describe a robot. The use of this specification assumes that the robot can be described as a tree structure and that the robot consists of rigid links connected by joints. The specification covers the kinematic and dynamic description of the robot, the visual representation and the collision model of the robot. Moreover, “Xacro” is an XML macro language. With “Xacro” you can construct shorter and more readable XML files by using macros that bundle larger XML expressions into more compact ones.</em></p>
<p>Once you have created all files belonging to a ROSVITA robot configuration and ensured that they match the ROSVITA folder structure, you simply have to <strong>place the parent folder with these files into your local robot_parts folder</strong> (<code class="docutils literal"><span class="pre">/home/&lt;username&gt;/Rosvita/robot_parts</span></code>) and <strong>restart ROSVITA</strong> once (e.g. <code class="docutils literal"><span class="pre">docker</span> <span class="pre">stop</span> <span class="pre">rosvita;</span> <span class="pre">/opt/Rosvita/rosvita_start.sh</span></code>). Now, your new robot model should be selectable in the ROSVITA <strong>Configuration View</strong>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the current ROSVITA start script <strong>rosvita_start.sh</strong> (see chapter <a class="reference internal" href="Getting_Started.html#getting-started-label"><span class="std std-ref">Getting Started</span></a>) there is a Docker mapping of your own local <strong>robot_parts</strong> folder (<code class="docutils literal"><span class="pre">/home/&lt;username&gt;/Rosvita/robot_parts</span></code>) to the folder <strong>robot_parts/custom</strong> in the ROSVITA library (<code class="docutils literal"><span class="pre">/home/xamla/Rosvita.Control/library/robot_parts/custom</span></code>). So to make your own robot model selectable in ROSVITA, it is not necessary to upload it to the ROSVITA server, but it is sufficient to place it in your own local <strong>robot_parts</strong> folder and restart ROSVITA once.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When creating your own robot models, make sure that these models do not become too large (do not use several GigaByte large CAD files), because working with (and especially visualizing) such huge models is naturally very slow.</p>
</div>
<div class="section" id="relocation-of-the-tool-center-point-tcp">
<h2>Relocation of the “Tool Center Point (TCP)”:<a class="headerlink" href="#relocation-of-the-tool-center-point-tcp" title="Permalink to this headline">¶</a></h2>
<p>To relocate the tool center point and the corresponding interactive marker in the 3D View, a <strong>tcp_link</strong> must be added to the file <strong>robotModel/main.xacro</strong> in the corresponding project folder.
More precisely, you have to add the following lines inside the <strong>&lt;robot&gt; &lt;/robot&gt;</strong> environment</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">link</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tcp_link&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">joint</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tcp_joint_F&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;fixed&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">child</span> <span class="n">link</span><span class="o">=</span><span class="s2">&quot;tcp_link&quot;</span> <span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">parent</span> <span class="n">link</span><span class="o">=</span><span class="s2">&quot;wrist_3_link&quot;</span> <span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">origin</span> <span class="n">xyz</span><span class="o">=</span><span class="s2">&quot;-0.0037 -0.0072 0.2092&quot;</span> <span class="n">rpy</span><span class="o">=</span><span class="s2">&quot;0 0 0&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">joint</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Origin xyz</strong> and <strong>rpy</strong> are the position and rotation (Euler angles) of the TCP relative to the parent link (here: <strong>wrist_3_link</strong>).
After this addition of the <strong>tcp_link</strong> in the file <strong>robotModel/main.xacro</strong>, this file has to be recompiled by pressing the <strong>Compile</strong> button of the ROSVITA xacro editor.
Hereupon, the new tcp link appears in the 3D view to the right of the opened .xacro file.
When changing to the <strong>Configuration View</strong>, the new configuration must be compiled first (i.e. click the <strong>Compile</strong> button in the <strong>Configuration View</strong>) so that the new link is displayed and selectable (e.g. as <strong>Tip link</strong> of a <strong>move group</strong> and <strong>Parent link</strong> of an <strong>end effector</strong>).
Thereto, in the configuration view under <strong>MotionPlanning-&gt;MoveIt! Motion Planning Framework (ROS)-&gt;groups-&gt;&lt;group_name&gt;</strong> select the new <strong>tcp_link</strong> as <strong>Tip link</strong> and under <strong>…-&gt;endEffectors-&gt;&lt;end_effector_name&gt;</strong> select the new <strong>tcp_link</strong> as <strong>Parent link</strong>. After building the new robot configuration, starting ROS and changing into the <strong>World View</strong>, the interactive marker appears at the new tcp link.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Graph_Concept.html" class="btn btn-neutral float-right" title="ROSVITA Graph Concept" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Code_Editor.html" class="btn btn-neutral" title="ROSVITA Code Editor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xamla.com.
      Last updated on Jul 03, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
