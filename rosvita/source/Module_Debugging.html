

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Module Debugging &mdash; Rosvita documentation  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using Lua Scripts" href="Lua_Scripts.html" />
    <link rel="prev" title="ROSVITA Graph Concept" href="Graph_Concept.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/rosvita-docs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Main_View.html">ROSVITA Main View</a></li>
<li class="toctree-l1"><a class="reference internal" href="New_Project.html">Creating a New Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Configuration.html">Creating a Robot Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Path_Planning.html">Path Planning (“World View”)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Jogging.html">Robot Jogging</a></li>
<li class="toctree-l1"><a class="reference internal" href="File_Browser.html">ROSVITA File Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_Editor.html">ROSVITA Code Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Own_Robot_Models.html">Creation of Own Robot Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Graph_Concept.html">ROSVITA Graph Concept</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Module Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua_Scripts.html">Using Lua Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Combination_with_External_ROS.html">Access to ROSVITA from External ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Complex_Scene.html">Building a Complex Scene</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_In_Rosvita_Graphs.html">Python in ROSVITA Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_To_Stereo_Laser_Line_Client.html">How to use Stereo Laser Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibration_Part1.html">Calibration Part1 (Camera, Hand-Eye, Endeffector)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibration_Part2.html">Calibration Part2 (Robot Kinematic)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rosvita documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Module Debugging</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Module_Debugging.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-debugging">
<h1>Module Debugging<a class="headerlink" href="#module-debugging" title="Permalink to this headline">¶</a></h1>
<p>To be able to debug Rosvita modules, two main steps need to be done:
First, allowing the debug slot in Rosvita and second running the GraphHost on the host machine.</p>
<p>Start Rosvita from the host machine with –debug option, this will login to an interactive docker session without Rosvita being automatically started:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosvita_start --debug
</pre></div>
</div>
<p>Now, inside the docker session edit the file appsettings.json:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo vi /home/xamla/Rosvita.Control/Rosvita.Server/bin/appsettings.json
</pre></div>
</div>
<p>Add this line:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>&quot;debugSlotId&quot;: &quot;2999D35B-1347-45E7-9AB2-7C5AC62D91E1&quot;
</pre></div>
</div>
<p>such that the file looks like:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{
  &quot;RosvitaOptions&quot;: {
    &quot;paths&quot;: {
      &quot;projects&quot;: &quot;../../projects&quot;,
      &quot;presets&quot;: &quot;../../library/presets/&quot;,
      &quot;robotParts&quot;: &quot;../../library/robot_parts/&quot;,
      &quot;meshCacheDirectory&quot;: &quot;$(TEMP)/xamla/rosvita/cache/meshes/&quot;,
      &quot;credentialsFile&quot;: &quot;../../data/credentials.json&quot;,
      &quot;rosGardenerAssembly&quot;: &quot;../../Rosvita.RosGardener/lib/RosGardener.dll&quot;,
      &quot;graphHostAssembly&quot;: &quot;../../Rosvita.GraphHost/lib/Rosvita.GraphHost.dll&quot;,
      &quot;rosServicesAssembly&quot;: &quot;../../Rosvita.RosServices/lib/Rosvita.RosServices.dll&quot;,
      &quot;mruProjects&quot;: &quot;../../data/projectsMru.json&quot;,
      &quot;mruFiles&quot;: &quot;../../data/filesMru.json&quot;,
      &quot;configurationElements&quot;: &quot;../../configurationElements&quot;
    },
    &quot;debugSlotId&quot;: &quot;2999D35B-1347-45E7-9AB2-7C5AC62D91E1&quot;
  },
  &quot;Logging&quot;: {
    &quot;IncludeScopes&quot;: false,
    &quot;LogLevel&quot;: {
      &quot;Default&quot;: &quot;Debug&quot;,
      &quot;System&quot;: &quot;Information&quot;,
      &quot;Microsoft&quot;: &quot;Information&quot;
    }
  }
}
</pre></div>
</div>
<p>Start Rosvita, i.e. in the docker terminal enter:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rosvita
</pre></div>
</div>
<p>Then, go to Rosvita (<code class="docutils literal notranslate"><span class="pre">localhost:5000</span></code>) with your web browser. You should find a <strong>Debug Slot</strong> available in your Xgraph slots.</p>
<p>The second step is to run the GraphHost in the host machine.</p>
<p>Thereto, open a terminal in Rosvita and archive the GraphHost binaries:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /home/xamla/Rosvita.Control/Rosvita.GraphHost/lib
tar -czvf graphhost.tar.gz .
</pre></div>
</div>
<p>Download the archived GraphHost binaries to the host machine with the Rosvita file browser on the left. More precisely, with the Rosvita file browser go into the folder <code class="docutils literal notranslate"><span class="pre">/home/xamla/Rosvita.Control/Rosvita.GraphHost/lib</span></code>, choose the archived file and click the download button at the top bar of the file browser.</p>
<p>On your host machine extract the downloaded file and with the terminal go to the corresponding directory.</p>
<p>Test if the GraphHost will run correctly by entering:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./Rosvita.GraphHost run --token S2999d35b134745e79ab27c5ac62d91e1@rosvita:d3bu9 --server ws://localhost:5000/xblk
</pre></div>
</div>
<p>In Rosvita click on the debug slot and add a new graph in the debug slot (the new button below the Debug Slot tab, not the one next to it). Try adding any new module you should be able to see the debug messages being printed.</p>
<p>This indicates that the debugging process is working correctly. Close <strong>Rosvita.GraphHost</strong> running in the host terminal to start the debugger from another IDE. Every time the debug process is restarted the debug slot has to be closed and reopened.</p>
<p>Try inserting a break point in your code with any module being created and start the debugging process.</p>
<p>For example, use <strong>vscode</strong> for debugging:</p>
<p>Start the debugger from <strong>vscode</strong>:
Add a debug configuration to the module workspace and change <strong>launch.json</strong> fields as:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>// &quot;preLaunchTask&quot;: &quot;build&quot;,
&quot;program&quot;: &quot;/PATH_TO_GRAPH_HOST/Rosvita.GraphHost&quot;,
&quot;args&quot;: [&quot;run&quot;, &quot;--token&quot;, &quot;S2999d35b134745e79ab27c5ac62d91e1@Arosvita:d3bu9&quot;, &quot;--server&quot;, &quot;ws://localhost:5000/xblk&quot;],
&quot;cwd&quot;: &quot;${workspaceFolder}/bin&quot;,
</pre></div>
</div>
<p>Change <strong>PATH_TO_GRAPH_HOST</strong> above with the path to the Rosvita.GraphHost</p>
<p>Go to the debug windows, run and choose the .net core debugger.
Close and start a new “Debug slot”. The debugged module should now be available to load from the graph.
Now loading modules and inserting break points should be working correctly.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Lua_Scripts.html" class="btn btn-neutral float-right" title="Using Lua Scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Graph_Concept.html" class="btn btn-neutral float-left" title="ROSVITA Graph Concept" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xamla.com
      <span class="lastupdated">
        Last updated on May 27, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>