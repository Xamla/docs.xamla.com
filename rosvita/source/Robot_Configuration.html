

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a Robot Configuration &mdash; Rosvita documentation  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Path Planning (“World View”)" href="Path_Planning.html" />
    <link rel="prev" title="Creating a New Project" href="New_Project.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/rosvita-docs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Main_View.html">ROSVITA Main View</a></li>
<li class="toctree-l1"><a class="reference internal" href="New_Project.html">Creating a New Project</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creating a Robot Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Path_Planning.html">Path Planning (“World View”)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Jogging.html">Robot Jogging</a></li>
<li class="toctree-l1"><a class="reference internal" href="File_Browser.html">ROSVITA File Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_Editor.html">ROSVITA Code Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Own_Robot_Models.html">Creation of Own Robot Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Graph_Concept.html">ROSVITA Graph Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="Module_Debugging.html">Module Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua_Scripts.html">Using Lua Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Combination_with_External_ROS.html">Access to ROSVITA from External ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Complex_Scene.html">Building a Complex Scene</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_In_Rosvita_Graphs.html">Python in ROSVITA Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_To_Stereo_Laser_Line_Client.html">How to use Stereo Laser Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibration_Part1.html">Calibration Part1 (Camera, Hand-Eye, Endeffector)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibration_Part2.html">Calibration Part2 (Robot Kinematic)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rosvita documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Creating a Robot Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Robot_Configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-a-robot-configuration">
<span id="robot-config-label"></span><h1>Creating a Robot Configuration<a class="headerlink" href="#creating-a-robot-configuration" title="Permalink to this headline">¶</a></h1>
<p>When clicking on the blue-highlighted <strong>Xamla</strong> symbol in the top left corner and selecting the menu item <strong>Configuration</strong>,
a sidebar for selecting robot parts, actuators, sensors, or other ROS components appears on the right-hand side of the browser (see Fig. 3.1).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If no side bar appears, or in any case of a broken Rosvita web page, refresh the browser cache by pressing <strong>Ctrl + F5</strong>.</p>
</div>
<p>Under the menu item <strong>Robot Parts</strong> of this sidebar one chooses e.g. the <strong>UR5</strong> from Universal Robots (i.e. the corresponding URDF and 3D model).
By clicking on the <strong>Add to Project</strong> button, the corresponding robot part is added to the current configuration.
Under the menu item <strong>Actuator</strong> choose the corresponding actuator (here: <strong>Robot Arm UR</strong>).
The menu bar on the left of the <strong>Configuration</strong> view lists the individual components of the current configuration.
After pressing the <strong>Compile</strong> button at the top bar (see below for a more detailed explanation), your can click on the previously added robot part <strong>UR5</strong> within the the left menu bar and
the 3D model of this robot arm including all coordinate systems of the individual joints is displayed in the 3D view.
Continuously pressing the left mouse button within the 3D view allows rotation, sustained press of the right mouse button allows moving the scene, and scrolling the mouse wheel will zoom in or out of the 3D scene.</p>
<div class="figure align-center" id="id1">
<img alt="../_images/Configuration_View.png" src="../_images/Configuration_View.png" />
<p class="caption"><span class="caption-text">Figure 3.1  Configuration View.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A robot configuration always needs at least one <strong>Robot Part</strong> (Xacro/URDF robot description, 3D visualization and collision model), as well as the associated <strong>Actuator</strong> (robot driver).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the <strong>Properties</strong> menu of the <strong>Actuator</strong> (here: <strong>Robot Arm UR</strong>) the <strong>Simulate</strong> checkmark is set per default. If you want to configure a <strong>real robot</strong>, you have to remove this checkmark and enter the IP adress of the robot (see also <a class="reference internal" href="Complex_Scene.html#config-real-robot-label"><span class="std std-ref">here</span></a>).</p>
</div>
<p>By clicking on the <strong>Save</strong> button at the top bar of the <strong>Configuration View</strong>, the current configuration is saved
in the current project, i.e. some of the files in the project folder created before are now filled with life.
If you previously selected the <strong>UR5</strong> robot arm, in the <strong>robotModel</strong> folder a new folder
<strong>part_ur5</strong> will appear. This folder contains the visualization and the collision model of the UR5 robotic arm
(<strong>.stl</strong> files in the subfolder <strong>collision</strong> and <strong>.dae</strong> files in the subfolder <strong>visual</strong>).
Furthermore, it contains a <strong>part.json</strong> file with the MoveIt! configuration of the UR5, as well as <strong>.xacro</strong> files,
from which the URDF (Unified Robot Description Format) for the UR5 will be built.
Finally, it includes two additional files <strong>CMakeLists.txt</strong> and <strong>package.xml</strong>,
which are needed for compiling in a <strong>Catkin</strong> workspace under ROS.
The file <strong>robotModel/main.xacro</strong> that was already generated when the project was created,
will now include the <strong>.xacro</strong> file of the UR5.</p>
<p>To compile an existing configuration
(i.e. building the URDFs from the .xacro files and building the MoveIt! configuration),
press the <strong>Compile</strong> button at the top bar of the <strong>Configuration View</strong>.
In the <strong>Output</strong> terminal at the bottom of the ROSVITA environment, a message that the start configuration
was compiled successfully (similar to the following example message) appears:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Start configuration build...
[MoveItConfigurationGenerator] MoveIt! configuration generated.
[SrdfGenerator] SRDF generated.
[RobotUr5LaunchFileGenerator] Updating &#39;/home/xamla/Rosvita.Control/projects/my_project/.config/temp/srdf/joint_limits.yaml&#39;...
[RobotUr5LaunchFileGenerator] Launch file&#39;.config/current/UniversalRobot-UR5.launch&#39; written.
[JointStateMonitorLaunchFileGenerator] Joint State Monitor launch file&#39;.config/temp/jointStateMonitor.launch&#39; written.
[JointStateMonitorLaunchFileGenerator] Joint State Monitor launch file&#39;.config/temp/jointJogging.launch&#39; written.
[MasterLaunchFileGenerator] Master launch file&#39;.config/temp/master.launch&#39; written.
Success.
</pre></div>
</div>
<p>In addition, the message <strong>not configured</strong> next to the warning triangle on the top right is replaced by the
message <strong>ROS core stopped</strong>.</p>
<p>Now, you can start ROS by pressing the button <strong>Start ROS</strong> in the top bar.
The roscore, the robot_state_publisher, the move_group, the xamlaJointMonitor, and several other nodes are started.
An overview of the started processes can be obtained by clicking on the blue-highlighted Xamla symbol
and selecting the menu item <strong>Monitoring</strong> there. If everything works fine, after a few seconds a green <strong>GO</strong> replaces the warning message on the top right and the path planning can begin.</p>
<div class="figure align-center" id="id2">
<img alt="../_images/Monitoring_View.png" src="../_images/Monitoring_View.png" />
<p class="caption"><span class="caption-text">Figure 3.2  Monitoring View</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>If instead the message <strong>Heartbeat failure</strong> appears next to the warning triangle and stays there for more than a few seconds,
clicking on this warning opens the overview of the system status, i.e. of all processes that have been started.
Moreover, hovering above this warning shows the status (<strong>GO</strong> or <strong>NOGO</strong>) of all nodes. This individual node status can also be seen when looking at the heartbeat output in the bottom pane.
By clicking on the <strong>Restart</strong> button in the top bar, which now replaces the <strong>Start ROS</strong> button, ROS will be restarted.
If that does not resolve the warning message, you can also restart individual crashed processes in the
<strong>Managed Processes</strong> list by clicking the (re)start icon next to the corresponding process.
In addition, the outputs and error messages of a started/crashed process can be viewed in detail by setting the corresponding <strong>Output</strong> field next to the process to <strong>On</strong>. Often, also the <strong>Logs</strong> output pane gives helpful indications of failure causes.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Path_Planning.html" class="btn btn-neutral float-right" title="Path Planning (“World View”)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="New_Project.html" class="btn btn-neutral float-left" title="Creating a New Project" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xamla.com
      <span class="lastupdated">
        Last updated on May 27, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>