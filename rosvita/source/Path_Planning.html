

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Path Planning (“World View”) &mdash; Rosvita documentation  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Robot Jogging" href="Robot_Jogging.html" />
    <link rel="prev" title="Creating a Robot Configuration" href="Robot_Configuration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/rosvita-docs-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Main_View.html">ROSVITA Main View</a></li>
<li class="toctree-l1"><a class="reference internal" href="New_Project.html">Creating a New Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Configuration.html">Creating a Robot Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Path Planning (“World View”)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ik-sampling">IK Sampling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Jogging.html">Robot Jogging</a></li>
<li class="toctree-l1"><a class="reference internal" href="File_Browser.html">ROSVITA File Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_Editor.html">ROSVITA Code Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Own_Robot_Models.html">Creation of Own Robot Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Graph_Concept.html">ROSVITA Graph Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="Module_Debugging.html">Module Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua_Scripts.html">Using Lua Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Combination_with_External_ROS.html">Access to ROSVITA from External ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Complex_Scene.html">Building a Complex Scene</a></li>
<li class="toctree-l1"><a class="reference internal" href="Python_In_Rosvita_Graphs.html">Python in ROSVITA Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_To_Stereo_Laser_Line_Client.html">How to use Stereo Laser Line Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibration_Part1.html">Calibration Part1 (Camera, Hand-Eye, Endeffector)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Calibration_Part2.html">Calibration Part2 (Robot Kinematic)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Rosvita documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Path Planning (“World View”)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/Path_Planning.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="path-planning-world-view">
<h1>Path Planning (“World View”)<a class="headerlink" href="#path-planning-world-view" title="Permalink to this headline">¶</a></h1>
<p>Once the robot configuration is complete and all ROS nodes have been successfully launched (indicated by a green <strong>GO</strong> with a check mark at the top bar), path planning can begin. To do this, switch to the planning view by clicking on the blue-highlighted <strong>Xamla</strong> symbol and selecting the menu item <strong>World View</strong>. A 3D view opens showing the configured robot  along with an <strong>interactive marker</strong> (movable coordinate system) at the <strong>tool center point</strong> (TCP) of the robot. Use the left mouse button to move and rotate the interactive marker. As a result, a semitransparent <strong>ghost</strong> of the robot will appear and follow the movements of the interactive marker. When the desired target pose is reached with the ghost, click on the <strong>Plan</strong> button at the top bar and a white path from the start pose to the target pose will appear (see Fig. 4.1). Moreover, the ghost will show the planned movement along the white path and an <strong>Execute</strong> and <strong>Cancel</strong> button appear below the top bar.</p>
<div class="figure align-center" id="id1">
<img alt="../_images/World_View_1.png" src="../_images/World_View_1.png" />
<p class="caption"><span class="caption-text">Figure 4.1  World view with path planning for robot arm UR5.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Path planning can only be performed if the current robot configuration has been compiled and all ROS nodes have been successfully started (displayed by a green <strong>GO</strong> with check mark in the top bar)!</p>
</div>
<p>On the <strong>Plan</strong> pane at the right sidebar of the world view you can adjust some plan parameters, which are the velocity scaling for the movement, the sample resolution for the path planning, the flag for collision checking, and the choice of supervised or unsupervised movement.
By default, the <strong>supervised movement</strong> is chosen. Thus, after clicking on the <strong>Execute</strong> button at the top bar, a slide control appears next to this button (see Fig. 4.2). If, you move the slider to the right, the robot moves along the previously displayed path in direction of the target pose and if you move the slider to the left, the robot moves in direction of the starting pose. If the target pose is reached, ghost and actual robot merge, and the slider and the <strong>Execute</strong> button disappear. If you disable the <strong>Move Supervised</strong> flag and press <strong>Execute</strong> after path planning, the robot moves directly to the target pose without any further user interaction.</p>
<div class="figure align-center" id="id2">
<img alt="../_images/World_View_2.png" src="../_images/World_View_2.png" />
<p class="caption"><span class="caption-text">Figure 4.2  Supervised movement of UR5.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The ghost serves as preview of ​​the target configuration of the robot. This allows to identify and avoid collisions in advance. Instead of directly moving the ghost, you can also move an <strong>additional interactive marker</strong> to a target pose. Thereto, double click into the scene and a second interactive marker will appear. Move this marker to the desired pose, click with the right mouse button into the scene and select the item <strong>Move Ghost To Pose Picker</strong>.</p>
<p>Next to the <strong>Plan</strong> button at the top bar, the path planner can be selected from a list (currently <strong>MoveIt!</strong>, <strong>TVP</strong> or <strong>linear move</strong>). <strong>TVP</strong> stands for <strong>Trapezoidal Velocity Profile</strong>, which is particularly suitable for time-critical problems without obstacles in the working area of ​​the robot. <strong>MoveIt!</strong> is a complex motion planning framework with collision check (i.e. self-collision as well as collision with obstacles in the scene) and based on the open motion planning library
<a class="reference external" href="http://ompl.kavrakilab.org/">OMPL</a> .
Furthermore you can select the <strong>Move group</strong> and the <strong>End effector</strong> at the top bar, which especially becomes interesting with several robot arms.</p>
<p>By right-clicking in the scene, the current joint values and pose of the robot, as well as a current joint trajectory and Cartesian path can be saved. Moreover, as mentioned before, the ghost can be moved to the second interactive marker (called <strong>pose picker</strong>), <strong>collision objects</strong> can be added to the scene and the active cursor (i.e. the currently chosen interactive marker) can be rotated.
Saved joint values, poses, joint trajectories and collision objects appear in a list displayed on the left side of the <strong>World View</strong>. If you click on one of these saved elements, more detailed information about the selected element (e.g. names and values ​​for the joints) appears on the right of the <strong>World View</strong>. When selecting stored joint values, moreover the ghost automatically moves to the corresponding location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To save the stored joint values and poses <strong>permanently</strong>, the <strong>World View</strong> has to be saved by pressing the <strong>Save</strong> button at the top bar. Thereby, the joint values and poses are written to the project folder into <strong>db/worldview.json</strong>.</p>
</div>
<div class="section" id="ik-sampling">
<h2>IK Sampling<a class="headerlink" href="#ik-sampling" title="Permalink to this headline">¶</a></h2>
<p>At the right sidebar of the World View, you can find a <strong>Properties</strong> pane, a <strong>Planning</strong> pane, a <strong>Jogging</strong> pane and finally a pane for <strong>Inverse Kinematik (IK) Sampling</strong>. To perform IK sampling, move the tool center point (TCP) of the robot ghost (i.e. the interactive marker) to a desired target position and press the button <strong>Start Sampling</strong> of the IK sampling pane. Now, Rosvita will generate all possible joint configurations of the robot with the TCP located at the target position. In the IK Sampling pane at the right, all these joint configurations are shown. Click at one of these joint configurations and the joints of the robot ghost will move into this configuration. After pressing <strong>Plan</strong> and <strong>Execute</strong> (see above), also the joints of the real robot will adopt the chosen joint configuration.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Robot_Jogging.html" class="btn btn-neutral float-right" title="Robot Jogging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Robot_Configuration.html" class="btn btn-neutral float-left" title="Creating a Robot Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xamla.com
      <span class="lastupdated">
        Last updated on May 27, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>