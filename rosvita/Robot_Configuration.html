

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a Robot Configuration &mdash; Rosvita documentation  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rosvita documentation  documentation" href="index.html"/>
        <link rel="next" title="Path Planning (“World View”)" href="Path_Planning.html"/>
        <link rel="prev" title="Creating a New Project" href="New_Project.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home">
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Main_View.html">ROSVITA Main View</a></li>
<li class="toctree-l1"><a class="reference internal" href="New_Project.html">Creating a New Project</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creating a Robot Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Path_Planning.html">Path Planning (“World View”)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Robot_Jogging.html">Robot Jogging</a></li>
<li class="toctree-l1"><a class="reference internal" href="File_Browser.html">ROSVITA File Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="Code_Editor.html">ROSVITA Code Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="Own_Robot_Models.html">Creation of Own Robot Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Graph_Concept.html">ROSVITA Graph Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lua_Scripts.html">Using Lua Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="Combination_with_External_ROS.html">Access to ROSVITA from External ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Complex_Scene.html">Building a Complex Scene</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rosvita documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Creating a Robot Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="sources/Robot_Configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-a-robot-configuration">
<span id="robot-config-label"></span><h1>Creating a Robot Configuration<a class="headerlink" href="#creating-a-robot-configuration" title="Permalink to this headline">¶</a></h1>
<p>When clicking on the blue-highlighted “Xamla” symbol in the top left corner and selecting the menu item “Configuration”,
a sidebar for selecting robot parts, actuators, sensors, motion planners and libraries appears on the right-hand side of
the browser (see Fig. 3.1).
Under the menu item “RobotParts” of this sidebar one chooses e.g. the “UR5” from Universal Robots (i.e. the corresponding URDF and 3D model).
By clicking on the “Add to Project” button, the corresponding robot part is added to the current configuration.
Under the menu item “Actuator” choose the corresponding actuator (here: “Robot Arm UR”).
The menu bar on the left of the “Configuration” view lists the individual components of the current configuration.
If within this menu bar you click on the previously added robot part “UR5”,
the 3D model of this robot arm including all coordinate systems of the individual joints is displayed in the 3D view.
Continuously pressing the left mouse button rotates the 3D view, sustained press of the right mouse button allows
moving the scene in the 3D view, and scrolling the mouse wheel will zoom in or out of the 3D scene.</p>
<div class="figure" id="id1">
<img alt="images/Configuration_View.png" src="images/Configuration_View.png" />
<p class="caption"><span class="caption-text">Figure 3.1  Configuration View.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A robot configuration always needs at least one “RobotPart” (Xacro/URDF robot description, 3D visualization and collision model), as well as the associated “Actuator” (robot driver).</p>
</div>
<p>By clicking on the “Save” button at the top bar of the “Configuration” view, the current configuration is saved
in the current project, i.e. some of the files in the project folder created before are now filled with life.
If you previously selected the “UR5” robot arm, in the “robotModel” folder a new folder
“part_ur5” will appear. This folder contains the visualization and the collision model of the UR5 robotic arm
(“.stl” files in the subfolder “collision” and “.dae” files in the subfolder “visual”).
Furthermore, it contains a “part.json” file with the MoveIt! configuration of the UR5, as well as .xacro files,
from which the URDF (Unified Robot Description Format) for the UR5 will be built.
Finally, it includes two additional files “CMakeLists.txt” and “package.xml”,
which are needed for compiling in a “Catkin” workspace under ROS.
The file “robotModel/main.xacro” that was already generated when the project was created,
will now include the .xacro file of the UR5 (<code class="docutils literal"><span class="pre">xacro:include</span> <span class="pre">filename=&quot;part_ur5/universal_robots-ur5.xacro</span></code>).</p>
<p>In summary, we now have the following content in the project folder after adding and saving the UR5 robot arm:</p>
<ul class="simple">
<li>Folder “db” -&gt; empty file “worldview.json”</li>
<li>Folder “src” (empty)</li>
<li>Folder “robotModel” -&gt;<ul>
<li>folder “part_ur5” (contains visualization and collision model, .xacro files and MoveIt! configuration of the UR5),</li>
<li>file “main.xacro” (description of the current configuration, now including the UR5 description)</li>
</ul>
</li>
<li>File “robot.urdf” (description of the current configuration, now including the UR5 description)</li>
<li>File “project.json” (current MoveIt! configuration, now containing the UR5 MoveIt! configuration)</li>
<li>File “README.md” (empty textual description of the configuration)</li>
</ul>
<p>To compile an existing configuration
(i.e. building the URDFs from the .xacro files and building the MoveIt! configuration),
press the “Compile” button at the top bar of the “Configuration” view.
In the “Output” terminal at the bottom of the ROSVITA environment, a message that the start configuration
was compiled successfully (similar to the following example message) appears:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Start configuration build...
[MoveItConfigurationGenerator] MoveIt! configuration generated.
[JointStateMonitorLaunchFileGenerator] Joint State Monitor launch file&#39;.config/temp/jointStateMonitor.launch&#39; written.
[MasterLaunchFileGenerator] Master launch file&#39;.config/temp/master.launch&#39; written.
Success.
</pre></div>
</div>
<p>In addition, the message “not configured” next to the warning triangle on the top right is replaced by the
message “ROS core stopped”.</p>
<p>Now, you can start ROS by pressing the button “Start ROS” in the top bar.
The roscore, the robot_state_publisher, the move_group, the xamlaJointMonitor, and several other nodes are started.
An overview of the started processes can be obtained by clicking on the blue-highlighted Xamla symbol
and selecting the menu item “Monitoring” there. If everything works fine, a green “GO” replaces the warning message
on the top right and the path planning can begin.</p>
<div class="figure" id="id2">
<img alt="images/Monitoring_View.png" src="images/Monitoring_View.png" />
<p class="caption"><span class="caption-text">Figure 3.2  Monitoring View</span></p>
</div>
<p>If instead the message “Heartbeat failure” appears next to the warning triangle,
clicking on this warning opens the overview of the system status, i.e. of all processes that have been started.
Moreover, hovering above this warning shows the status (“GO” or “NOGO”) of all nodes. This individual node status can also be seen when looking at the heartbeat output in the bottom pane.
By clicking on the “Restart” button in the top bar, which now replaces the “Start ROS” button, ROS will be restarted.
If that does not resolve the warning message, you can also restart individual crashed processes in the
“Managed Process List” by clicking the “Start” button next to the corresponding process.
In addition, the outputs and error messages of all started processes can be viewed in detail in the current system status
(“Monitoring”) view. Often, also the “Logs” output pane gives helpful indications of failure causes.</p>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Path_Planning.html" class="btn btn-neutral float-right" title="Path Planning (“World View”)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="New_Project.html" class="btn btn-neutral" title="Creating a New Project" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xamla.com.
      Last updated on Feb 20, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>